<div class="row justify-content-center mt-5">
  <div class="col-md-2">
    <app-add-student
      [students] ="students"
    ></app-add-student>
  </div>
  <div class="col-md-4">
    <app-filter-students
      [students]="students"
      (returnedFilteredStudents)="filterStudents($event)"
    ></app-filter-students>
  </div>
</div>

<div class="row justify-content-center mt-5">
  <div class="col-md-6">
    <table
      class="table"
      *ngIf="filteredStudents.length > 0 && filter; else noFilteredStudents"
    >
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col">Details</th>
          <th scope="col"> delete </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of filteredStudents; let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ student.name }}</td>
          <td>{{ student.email }}</td>
          <td>
            <app-student-details [student]="student" [students] ="students"></app-student-details>
          </td>
          <td>
            <app-delete-student [student]="student" [students] ="students"></app-delete-student>
          </td>
          <td>
            <app-edit-student
          [student]="student"
          (updateStudent)="updateStudent($event)"
        ></app-edit-student>
          </td>
        </tr>
      </tbody>
    </table>
    <table
      class="table"
      *ngIf="students.length > 0 && !filter; else noStudents"
    >
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col">Details</th>
          <th scope="col"> Delete </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of students; let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ student.name }}</td>
          <td>{{ student.email }}</td>
          <td>
            <app-student-details [student]="student" [students] ="students"></app-student-details>
          </td>
          <td>
            <app-delete-student [student]="student" [students] ="students"></app-delete-student>
          </td>
          <td>
            <app-edit-student
          [student]="student"
          (updateStudent)="updateStudent($event)"
        ></app-edit-student>
          </td>
        </tr>
      </tbody>
    </table>
    <ng-template #noStudents>
      <p *ngIf="!filter" class="alert alert-info">No Students</p>
    </ng-template>
    <ng-template #noFilteredStudents>
      <p *ngIf="filter" class="alert alert-info">No Results</p>
    </ng-template>
  </div>
</div>
